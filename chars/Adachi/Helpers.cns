;---------------------------------------------------------------------------
;MIzanagi Astral Heat Win
[Statedef 2183]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 2183
sprpriority = -2
velset = 0,0

[State 195, 1]
type = playsnd
trigger1 = animelem = 11
value = 1001,1

[State 1]
type = velset
trigger1 = pos Y >= 0
y = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 183
value = 2184
ctrl = 0
;---------------------------------------------------------------------------
;MIzanagi Astral Heat Win Fade
[Statedef 2184]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
sprpriority = -2
velset = 0,0

[State 0]
type=Trans
trigger1=time >= 100
trans=addalpha
alpha=256-(5*(time-100)),5*(time-100)

;---------------------------------------------------------------------------
;MIzanagi Intro
[Statedef 2190]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 192
sprpriority = -2

[State 210, 5]
type = Changestate
trigger1 = root,stateno != [191,194]
value = 2500
ctrl = 0

;---------------------------------------------------------------------------
;MIzanagi Vs. Azrael Intro
[Statedef 2197]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 2183
sprpriority = -2
velset = 0,0

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 195, 1]
type = playsnd
trigger1 = animelem = 11
value = 1001,1

[State 1]
type = velset
trigger1 = pos Y >= 0
y = 0

[State 210, 5]
type = Changestate
trigger1 = root,anim != 198
value = 2500
ctrl = 0

;---------------------------------------------------------------------------
;MIzanagi Megidola
[Statedef 2205]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2204
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = animelem = 3
anim = 6203
id = 6203
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 400, 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = 0, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 10                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 24             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2 
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 28
guard.ctrltime = 17
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(75*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = hard                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = 0, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 10                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 40              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 40
guard.ctrltime = 17
p1sprpriority = -2

[State 200,]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5812
ignorehitpause = 1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 0]
type = width
trigger1= 1
edge = 40,10

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 56
trigger2 = root,stateno != 205
trigger3 = time >= 56
trigger3 = roundstate > 2
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi 5B
[Statedef 2210]
type    = S
movetype= A
physics = S
poweradd = 12
ctrl = 0
anim = 2210
sprpriority = -2
velset = 18,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = playerpush
trigger1 = 1
value = 1

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = explod
trigger1 = animelem = 5
anim = 6210
id = 6210
pos = 0,0
facing = 1
sprpriority = -3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1200, 6]
type = screenbound
trigger1 = time >= 20
value = 1
ignorehitpause = 1

[State 0]
type = width
trigger1= 1
edge = 40,10

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(30*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -83               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -0.7,-5.2           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 19
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(55*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -83               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 25              ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -0.7,-5.2           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 60
guard.ctrltime = 19
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7773
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 4

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 201
value = 2201
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 211
value = 2211
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 50
trigger2 = root,stateno = [1100,1105]
trigger3 = root,stateno = 830
trigger4 = root,stateno = [8000,8050]
trigger5 = root,stateno = [3000,3999]
trigger6 = time >= 50
trigger6 = roundstate > 2
trigger7 = root,stateno = [200,202]
trigger8 = root,stateno = 610
trigger9 = root,stateno = [1500,1505]
trigger10 = root,movetype = H
trigger10 = root,stateno != [120,155]
trigger11 = var(5) >= 15
trigger11 = numhelper(2000) > 1
trigger11 = helper(2000),stateno != [2500,2550]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
triggerall = numhelper(2000) > 1
trigger1 = var(5) > 6
trigger2 = time > 6
triggerall = root,anim = 210
triggerall = root,animelem = 1
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi 5BB
[Statedef 2211]
type    = S
movetype= A
physics = S
poweradd = 15
ctrl = 0
anim = 2211
sprpriority = -2
velset = 6,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = playerpush
trigger1 = 1
value = 1

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0]
type = width
trigger1= 1
edge = 40,10

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(52*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -74               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2,-7 
air.velocity = -2.1,-6.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 17
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(60*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -74               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2,-5
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 17
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7772
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 5

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 400, 5

[State 200, 2]
type = targetstate
trigger1 = movehit
value = 5832
persistent = 0

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 203
value = 2203
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 212
value = 2212
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 50
trigger2 = root,stateno = [1100,1105]
trigger3 = root,stateno = 830
trigger4 = root,stateno = [8000,8050]
trigger5 = root,stateno = [3000,3999]
trigger6 = time >= 50
trigger6 = roundstate > 2
trigger7 = root,stateno = [200,202]
trigger8 = root,stateno = 610
trigger9 = root,movetype = H
trigger9 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi 5BBB
[Statedef 2212]
type    = S
movetype= A
physics = S
poweradd = 17
ctrl = 0
anim = 2212
sprpriority = -2
velset = 6,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = playerpush
trigger1 = 1
value = 1

[State 1]
type = turn
trigger1 = !time
trigger1 = p2bodydist x < -30

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0]
type = width
trigger1= 1
edge = 40,10

[State 1200, 6]
type = explod
trigger1 = animelem = 3
anim = F61
id = 1
pos = 48,0
facing = 1
sprpriority = -3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(52*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -44               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2,-7 
air.velocity = -2.1,-6.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 17
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(60*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -44               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2,-5
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 17
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7771
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 400, 4

[state ]
type = EnvShake
trigger1 = AnimElem = 3
time = 4
freq = 65
ampl = 4

[State 200, 2]
type = targetstate
trigger1 = movehit
value = 872
persistent = 0
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 203
value = 2203
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 211
value = 2211
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 50
trigger2 = root,stateno = [1100,1105]
trigger3 = root,stateno = 830
trigger4 = root,stateno = [8000,8050]
trigger5 = root,stateno = [3000,3999]
trigger6 = time >= 50
trigger6 = roundstate > 2
trigger7 = root,stateno = [200,202]
trigger8 = root,stateno = 610
trigger9 = root,movetype = H
trigger9 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi 2BB
[Statedef 2411]
type    = A
movetype= A
physics = N
poweradd = 15
ctrl = 0
anim = 2620
sprpriority = -2
velset = 8,-8

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
trigger1 = enemynear,statetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(20*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 0                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)))             ;Time opponent is in hit state
guard.ctrltime = 25
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 35
p1stateno = 2412
p2stateno = 860
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
trigger1 = enemynear,statetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(20*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 0                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)/3))             ;Time opponent is in hit state
guard.hittime = 0
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 0
p1stateno = 2412
p2stateno = 860
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
trigger1 = enemynear,statetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(65*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 0                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -74               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 65              ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 35
p1stateno = 2412
p2stateno = 860
p1sprpriority = -2

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 8000, ]
type = bgpalfx
trigger1 = movecontact = 1
trigger1 = root,fvar(19) > 0
time = 9
add = -55,-55,-55
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = bindtoroot
trigger1 = root,stateno = 610
trigger1 = animelemtime(5) < 0
pos = 16,0
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = animtime = 0
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
trigger4 = root,movetype = H
trigger4 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi 2BB Grab
[Statedef 2412]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 2622
sprpriority = -2

[State 810, Grab Sound]
type = PlaySnd
trigger1 = time = 0
value = 1, 1

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State ]
type     = TargetBind
triggerall = enemynear,stateno = 860
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) <= 0
pos      = 58,-140

[State ]
type     = TargetBind
triggerall = enemynear,stateno = 860
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(3) <= 0
pos      = 48,-124

[State ]
type     = TargetBind
triggerall = enemynear,stateno = 860
trigger1 = AnimElemtime(3) >= 0
pos      = 41,-118

[State ]
type = PosAdd
triggerall = Pos y >= -15
trigger1 = Time = 0
y = -15

[state 1]
type = velset
trigger1 = 1
x = 6

[state 1]
type = velset
trigger1 = time = 0
y= -13

[State ]
type = veladd
trigger1 = pos Y < 0
trigger1 = 1
y = 0.7

[State ]
type = width
trigger1 = 1
edge = 40,10

[State ]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,1

[State ]
type = changeanim
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -90
value = 2623
persistent = 0

[State ]
type = posset
trigger1 = anim = 2623
trigger1 = animelemtime(4) >= 0
Y = 0

[State ]
type = velset
trigger1 = anim = 2623
trigger1 = animelemtime(4) >= 0
Y = 0
X = 0

[State 200, 2]
type = PlaySnd
trigger1 = anim = 2623
trigger1 = AnimElem = 4
value = 400, 4

[State 1200, 6]
type = explod
trigger1 = anim = 2623
trigger1 = AnimElem = 4
anim = F61
id = 1
pos = 60,0
facing = 1
sprpriority = -3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(75*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 10                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = 10, -34               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)))             ;Time opponent is in hit state
guard.ctrltime = 25
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 35
p2stateno = 872
p1sprpriority = -2
envshake.time = 10
envshake.freq = 70
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(100*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 10                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = 10, -34               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)/3))             ;Time opponent is in hit state
guard.hittime = 0
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 0
p2stateno = 872
p1sprpriority = -2
envshake.time = 10
envshake.freq = 70
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 8000, ]
type = bgpalfx
trigger1 = movecontact = 1
trigger1 = root,fvar(19) > 0
time = 9
add = -55,-55,-55
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = bindtoroot
trigger1 = root,stateno = 610
trigger1 = animelemtime(5) < 0
pos = 16,0
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = anim = 2623
trigger1 = animtime = 0
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi jB
[Statedef 2610]
type    = S
movetype= A
physics = S
poweradd = 15
ctrl = 0
anim = 2610
sprpriority = -2
velset = 0,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = explod
trigger1 = animelem = 3
anim = 6610
id = 6610
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(40*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54+ceil(p2dist y)               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(30*(root,fvar(11)))             ;Time opponent is in hit state
guard.ctrltime = 15
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,1           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 30
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(40*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54+ceil(p2dist y)                ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(30*(root,fvar(11)/2))             ;Time opponent is in hit state
guard.hittime = 0
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,1           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = ceil(30*(root,fvar(11)/2)) 
guard.ctrltime = 10
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(65*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -74               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 37              ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-4           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 35
p1sprpriority = -2

[State 8000, ]
type = targetstate
trigger1 = p2statetype = A
trigger1 = enemynear,pos Y < 0
trigger1 = movehit
value = 5836
ignorehitpause = 1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 8000, ]
type = bgpalfx
trigger1 = movecontact = 1
trigger1 = root,fvar(19) > 0
time = 9
add = -55,-55,-55
ignorehitpause = 1

[State 1, ]
type = pause
trigger1 = movecontact = 1
time = 8
movetime = 0
ignorehitpause = 1
persistent = 0
pausebg = 0
endcmdbuftime = 8

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7774
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = bindtoroot
trigger1 = root,stateno = 610
trigger1 = animelemtime(5) < 0
pos = 16,0
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1450
value = 2140
ctrl = 0
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1451
value = 2141
ctrl = 0
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 50
trigger2 = root,stateno != 610
trigger3 = root,stateno = [1100,1105]
trigger3 = root,stateno = 830
trigger4 = root,stateno = [8000,8050]
trigger5 = root,stateno = [3000,3999]
value = 2500
ctrl = 0
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0
ignorehitpause = 1

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi jC
[Statedef 2620]
type    = A
movetype= A
physics = N
poweradd = 20
ctrl = 0
anim = 2620
sprpriority = -2
velset = 8,-8

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State ]
type = width
trigger1 = 1
edge = 40,10

[State ]
type = screenbound
trigger1 = movehit
value = 1
movecamera = 0,0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
trigger1 = enemynear,statetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(40*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = AFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 10                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)))             ;Time opponent is in hit state
guard.ctrltime = 25
ground.velocity = -5,-8            ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
guard.ctrltime = 35
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
trigger1 = enemynear,statetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(40*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = AFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 10                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)/3))             ;Time opponent is in hit state
guard.hittime = 0
ground.velocity = -5,-8             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
guard.ctrltime = 0
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
trigger1 = enemynear,statetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(65*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = AFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 10                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -74               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 65              ;Time opponent is in hit state
ground.velocity = -5,-8             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
guard.ctrltime = 35
p1sprpriority = -2

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 8000, ]
type = bgpalfx
trigger1 = movecontact = 1
trigger1 = root,fvar(19) > 0
time = 9
add = -55,-55,-55
ignorehitpause = 1

[State 1300]
type = null;helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = bindtoroot
trigger1 = root,stateno = 610
trigger1 = animelemtime(5) < 0
pos = 16,0
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1000,1001]
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1002,1003]
value = 2102
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [1004,1005]
value = 2104
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = !movehit
trigger1 = animtime = 0
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = movehit
trigger1 = animtime = 0
value = 2621
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi jC Part 2
[Statedef 2621]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2621
sprpriority = -2

[State 1]
type = velmul
trigger1 = 1
x = .9
y = .9

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = explod
trigger1 = animelem = 4
anim = 6610
id = 6610
pos = 0,-30
facing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(40*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4, 5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)))             ;Time opponent is in hit state
guard.ctrltime = 25
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,1           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
p2facing = 1
fall.recovertime = 45
guard.ctrltime = 35
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(40*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4, 5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -54               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = ceil(35*(root,fvar(11)/3))             ;Time opponent is in hit state
guard.hittime = 0
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,1           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = ceil(31*(root,fvar(11))) 
guard.ctrltime = 0
p2facing = 1
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(65*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -74               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 65              ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-4           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
p2facing = 1
guard.ctrltime = 35
p1sprpriority = -2

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 8000, ]
type = bgpalfx
trigger1 = movecontact = 1
trigger1 = root,fvar(19) > 0
time = 9
add = -55,-55,-55
ignorehitpause = 1

[State 8000, ]
type = targetstate
trigger1 = movehit = 1
value = 5836
ignorehitpause = 1
persistent = 0
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7774
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 30
trigger2 = root,stateno = [1000,1455]
trigger2 = root,stateno = 830
trigger3 = root,stateno = [8000,8050]
trigger4 = root,stateno = [3000,3999]
trigger5 = root,stateno = [210,212]
trigger6 = root,stateno = 610
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
triggerall = root,statetype != A
trigger1 = var(5) >= 16
trigger2 = time >= 16
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi Heat Riser
[Statedef 2100]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2100
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = animelem = 11
anim = 6100
pos = 0,0
facing = 1
sprpriority = 4
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1200, 6]
type = explod
trigger1 = animelem = 9
anim = 6101
pos = 10,0
facing = 1
sprpriority = -3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.4,0.4

[State 1200, 6]
type = explod
trigger1 = animelemtime(9) >= 0
trigger1 = animelemtime(12) < 0
trigger1 = time%3 = 0
anim = 6110
pos = 35,0
facing = 1
sprpriority = 4
bindtime = 1
vel = 5,0
ownpal = 1
ignorehitpause = 1
scale = 0.3,1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 4

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0, 5

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1001, 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1001, 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3903, 4

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = animelem = 5
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(15*root,fvar(4)), 3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -44               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2,-7 
air.velocity = -2.1,-6.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 17
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = animelem = 5
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(25*root,fvar(4)), 6                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -44               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2,-5
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 17
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = animelem = 11
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(90*root,fvar(4)), 8                  ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -3,-9.5 
air.velocity = -3,-9.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 40
guard.ctrltime = 17
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = animelem = 11
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(125*root,fvar(4)), 8                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -3,-9.5
air.velocity = -3,-9.5          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 17
p1sprpriority = -2

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Helper]
type = Helper
trigger1 = animelemtime(11) >= 0
trigger1 = movehit&&numhelper(6801)<1
helpertype = normal ;player
name = "Burn"
ID = 6800
stateno = 6800
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 210, 5]
type = targetstate
trigger1 = animelemtime(6) <= 0
trigger1 = movehit = 1
value = 870
ignorehitpause = 1
persistent = 0

[State 1300]
type = helper
trigger1 = movecontact
trigger1 = !numhelper(7777)
trigger1 = animelemtime(11) >= 0
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movehit = 1
trigger1 = !numhelper(7800)
trigger1 = animelemtime(11) >= 0
helpertype = normal
stateno = 7800
ID = 7800
name = "Heat has Risen"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 65
trigger2 = root,stateno != 1000
trigger3 = time >= 65
trigger3 = roundstate > 2
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
trigger4 = root,movetype = H
trigger4 = root,stateno != [120,155]
trigger5 = root,movetype = H
trigger5 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Magatsu Mandala
[Statedef 2120]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2120
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = animelem = 7
anim = 6120
pos = 0,10
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.65,.5

[State 1200, 6]
type = explod
trigger1 = animelem = 7
anim = 6120
pos = 0,-30
facing = -1
sprpriority = -3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.65,.5

[State 1200, 6]
type = explod
trigger1 = animelem = 7
anim = 6121
pos = 0,0
facing = -1
sprpriority = -2
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 5,3

[State 1200, 6]
type = explod
trigger1 = animelemtime(7) >= 0
trigger1 = time%6 = 0
anim = 6122
pos = 0,10
facing = -1
sprpriority = 4
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .65,.65

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1201, 0

[State 200, 1]
type = HitDef
nochainID = 8000
triggerall = var(1) <= 9
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
triggerall = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(10*root,fvar(4)), 3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,  (ceil(enemynear,pos y)-random%90)                 ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-18 
air.velocity = -.2,-18          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 17
envshake.time = 10
envshake.freq = 70
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
nochainID = 8000
triggerall = var(1) <= 9
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
triggerall = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(35*root,fvar(4)), 3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,  (ceil(enemynear,pos y)-random%90)                ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  =30              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-18 
air.velocity = -.2,-18          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 17
envshake.time = 10
envshake.freq = 100
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 5]
type = targetstate
trigger1 = movehit = 1
value = 5820
ignorehitpause = 1

[State 200,]
type = varadd
trigger1 = movehit = 1
var(1) = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = numhelper(7801) <= 0
trigger1 = movehit
helpertype = normal
stateno = 7801
ID = 7801
name = "You did it!"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 100
trigger2 = time >= 100
trigger2 = roundstate > 2
trigger3 = root,movetype = H
trigger3 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [210,212]
trigger2 = root,stateno = [1400,1500]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1000
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400
trigger2 = root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401
trigger2 = root,stateno = 1451
value = 2141
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Ghastly Wail
[Statedef 2130]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2130
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 5

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1301, 0

[State 1200, 6]
type = explod
trigger1 = animelem = 6
anim = 6130
pos = 30,-165
facing = 1
sprpriority = 0
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.6

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, ST                    ;Attribute: Standing, Normal Attack
damage = ceil(5*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag =                    ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,  -60                 ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-1 
air.velocity = -.2,-1         ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 17
p1sprpriority = -2
snap = 55,-30
envshake.time = 5
envshake.freq = 60

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, ST                     ;Attribute: Standing, Normal Attack
damage = ceil(15*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag =                    ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,  -60                ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  =30              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-1 
air.velocity = -.2,-1          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 17
p1sprpriority = -2
snap = 55,-30
envshake.time = 5
envshake.freq = 60

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = targetstate
trigger1 = movehit = 1
value = 871
ignorehitpause = 1

[State 210, 5]
type = playsnd
trigger1 = movehit = 1
value = 1,1
ignorehitpause = 1

[State 200,]
type = varadd
trigger1 = movehit = 1
var(1) = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = movehit 
trigger1 = animtime = 0
value = 2131
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = !movehit 
trigger1 = animtime = 0
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [210,212]
trigger2 = root,stateno = 1000
trigger3 = root,stateno = 1200
trigger4 = root,stateno = [1400,1500]
trigger5 = root,movetype = H
trigger5 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Ghastly Wail Success
[Statedef 2131]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2131
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
value = 0, 4

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 0, 5

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
value = 1301, 1

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 15
value = 1301, 2

[State 1200, 6]
type = explod
trigger1 = animelem = 5
trigger2 = animelem = 9
anim = 6131
pos = 70,-30
facing = 1
sprpriority = 0
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.33

[State 1200, 6]
type = explod
trigger1 = animelem = 15
anim = 6131
pos = 70,-30
facing = 1
sprpriority = 0
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.45

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = animelem = 5
trigger2 = animelem = 9
attr = S, ST                    ;Attribute: Standing, Normal Attack
damage = ceil(45*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag =                    ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -30,  0                ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-18 
air.velocity = -.2,-18          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 17
p2stateno = 871
envshake.time = 8
envshake.freq = 70
p1sprpriority = -2

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = animelem = 15
attr = S, ST                    ;Attribute: Standing, Normal Attack
damage = ceil(55*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag =                    ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -30,  0                 ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-18 
air.velocity = -.2,-18          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 17
p2stateno = 871
envshake.time = 15
envshake.freq = 110
p1sprpriority = -2

[State 200,]
type = varadd
trigger1 = movehit = 1
var(1) = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 1300]
type = helper
trigger1 = animelemtime(14) >= 0
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = animtime = 0
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = [210,212]
trigger2 = root,stateno = 1000
trigger3 = root,stateno = 1200
trigger4 = root,stateno = [1400,1500]
trigger5 = root,stateno != [1300,1305]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Maziodyne A
[Statedef 2140]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2140
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

;[State 22110, VS]
;type = varset
;trigger1 = 1
;var(20) = root,power
;persistent = 0
;
;[State 22000, Reset Power]
;type = powerset
;trigger1 = var(21)>0
;trigger1 = power>var(20)
;value = var(20)
;
;[State 22000, Timer]
;type = varadd
;trigger1 = 1
;var(21) = 1

[State -2]
type = Helper
Trigger1 = animelem = 8
helpertype = normal
name = "Ziodyne"
ID = 3061
Stateno = 3061
pos = 60,-100
PosType = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = .5

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 56
trigger2 = root,stateno = [210,212]
trigger3 = root,stateno = [610,620]
trigger4 = root,stateno = [1200,1300]
trigger5 = root,stateno = 830
trigger6 = root,stateno = [8000,8050]
trigger7 = root,stateno = [3000,3900]
trigger8 = root,stateno = [1000,1005]
trigger9 = root,stateno = [1500,1505]
trigger10 = time >= 56
trigger10 = roundstate > 2
trigger11 = root,movetype = H
trigger11 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Maziodyne B
[Statedef 2141]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2141
sprpriority = -2

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

;[State 22110, VS]
;type = varset
;trigger1 = 1
;var(20) = root,power
;persistent = 0
;
;[State 22000, Reset Power]
;type = powerset
;trigger1 = var(21)>0
;trigger1 = power>var(20)
;value = var(20)
;
;[State 22000, Timer]
;type = varadd
;trigger1 = 1
;var(21) = 1

[State ]
type = Explod
trigger1 = animelemtime(2) =0
anim = 3640
pos = 45,-85
scale = 0.35,0.35
postype = p1
ownpal = 1
facing = 1;ifelse(random%2,1,-1)
vfacing = 1;ifelse(random%2,1,-1)
ID = 3640
ontop = 0
bindtime = 1
removetime = 67
removeongethit = 1
sprpriority = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
Persistent = 0

[State ]
type = Explod
trigger1 = animelemtime(2) =0
anim = 3641
pos = 45,-85
scale = 0.35,0.35
postype = p1
ownpal = 1
facing = 1;ifelse(random%2,1,-1)
vfacing = 1;ifelse(random%2,1,-1)
ID = 3640
ontop = 0
bindtime = 1
removetime = 67
removeongethit = 1
sprpriority = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
Persistent = 0

[State ]
type = Explod
trigger1 = animelemtime(2) =0
anim = 3642
pos = 45,-85
scale = 0.35,0.35
postype = p1
ownpal = 1
facing = 1;ifelse(random%2,1,-1)
vfacing = 1;ifelse(random%2,1,-1)
ID = 3640
ontop = 0
bindtime = 1
removetime = 67
removeongethit = 1
sprpriority = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
Persistent = 0

[State ]
type = Explod
trigger1 = animelemtime(2) =0
anim = 3643
pos = 45,-85
scale = 0.35,0.35
postype = p1
ownpal = 1
facing = 1;ifelse(random%2,1,-1)
vfacing = 1;ifelse(random%2,1,-1)
ID = 3640
ontop = 0
bindtime = 1
removetime = 67
removeongethit = 1
sprpriority = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
Persistent = 0

[State 0]
type = modifyexplod
trigger1 = 1
scale = .005+(time*.0075),.06+(time*.0075)
id = 3640

[State 200, 2]
type = PlaySnd
Trigger1 = animelem = 2
value = 400, 0

[State -2]
type = playsnd
Trigger1 = animelem = 2
value = 1401,1

[State -2]
type = Helper
Trigger1 = animelem = 19
helpertype = normal
name = "Ziodyne"
ID = 3061
Stateno = 3060
pos = 60,-100
PosType = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = .5

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 160
trigger2 = root,stateno = [210,212]
trigger3 = root,stateno = [610,620]
trigger4 = root,stateno = [1200,1300]
trigger5 = root,stateno = 830
trigger6 = root,stateno = [8000,8050]
trigger7 = root,stateno = [3000,3900]
trigger8 = root,stateno = [1000,1005]
trigger9 = root,stateno = [1500,1505]
trigger10 = time >= 160
trigger10 = roundstate > 2
trigger11 = root,movetype = H
trigger11 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Cross Slash
[Statedef 2300]
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 2300
sprpriority = -2
velset = 0,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 1]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 22000, Reset Power]
type = powerset
trigger1 = var(0)>0
trigger1 = power>var(20)
value = var(20)

[State 22110, VS]
type = varset
trigger1 = 1
var(20) = root,power
persistent=0

[State 200, 1]
type = HitDef
nochainID = 8000
triggerall = anim = 2301
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(180+(36*numhelper(9884))), 0                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 24             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2 
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 28
guard.ctrltime = 17
p1sprpriority = -2
p2facing = 1
p2stateno = 5550
getpower = 0,0
envshake.time = 12
envshake.freq = 150
envshake.ampl = -20

[State 200, 1]
type = HitDef
nochainID = 8000
triggerall = anim = 2301
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(200+(40*numhelper(9884))), 10                   ;Damage that move inflicts, guard damage
animtype = hard                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 40              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 40
guard.ctrltime = 17
p1sprpriority = -2
p2facing = 1
p2stateno = 5550
getpower = 0,0
envshake.time = 12
envshake.freq = 150
envshake.ampl = -20

[state 19001 BF]
type = explod
trigger1 = movehit
anim = 6985
pos = 0,0
bindtime = -1
postype = back
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
sprpriority = -4

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6306
id = 6306
pos = -15,-60
postype = p2
facing = -1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1
persistent = 0

[State -1]
Type = Helper
trigger1 = anim = 2301
StateNo = 6306
ID = 6306
Name = "Slash"
pos = 0,-50
PosType = P1
Ownpal = 0
Keyctrl = 0
SprPriority = -3
IgnoreHitPause = 1
Persistent = 0
size.xscale = 1
size.yscale = .3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7772
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 77777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 200, 2]
type = velset
triggerall = anim = 2300
trigger1 = AnimElem = 6
y = 35

[State 200, 2]
type = playsnd
triggerall = anim = 2300
trigger1 = AnimElem = 5
value = 700,0

[State 200, 2]
type = playsnd
trigger1 = movehit
value = 3002,1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = velmul
triggerall = anim = 2300
trigger1 = AnimElemtime(6) >= 0
y = 1.1

[State 200, 2]
type = changeanim
triggerall = anim = 2300
trigger1 = pos Y >= 0
value = 2301

[State 200, 2]
type = posset
trigger1 = pos Y >= 0
y = 0

[State 200, 2]
type = velset
trigger1 = pos Y >= 0
y = 0

[State 200, 2]
type = PlaySnd
triggerall = anim = 2301
trigger1 = AnimElem = 1
value = 0, 5

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time%6 = 0
anim = 6801
pos = 0,-10
random = 50,10
postype = p1
scale = 0.75,0.75
bindtime = 1
sprpriority = 9
vel = 10-random%21,-30-random%20
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = Time%6 = 0
anim = 6801
pos = 0,-10
random = 50,10
postype = p1
scale = 0.75,0.75
bindtime = 1
sprpriority = 9
vel = 10-random%21,-30-random%20
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
triggerall = anim = 2301
trigger1 = Time%2 = 0
anim = 6801
pos = -10,0
random = 50,10
postype = p1
scale = 0.25,0.25
bindtime = 1
sprpriority = -4
vel = -5-random%6,-1-random%7
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
triggerall = anim = 2301
trigger1 = Time%2 = 0
anim = 6801
pos = 10,0
random = 50,10
postype = p1
scale = 0.25,0.25
bindtime = 1
sprpriority = -4
vel = 5+random%6,-1-random%7
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
triggerall = anim = 2301
trigger1 = time%12 = 0
anim = 3070
ID = 3070
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = .5,.5
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno != 3005
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Vorpal Blade
[Statedef 2301]
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 2300
sprpriority = -2
velset = 0,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 1]
type = varset
trigger1 = !time
var(6) = 0

[State 1]
type = varadd
trigger1 = time
triggerall = anim = 2301
var(6) = 1

[State 1]
type = playerpush
trigger1 = 1
value = 0

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 22000, Reset Power]
type = powerset
trigger1 = var(0)>0
trigger1 = power>var(20)
value = var(20)

[State 22110, VS]
type = varset
trigger1 = 1
var(20) = root,power
persistent=0

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(100*root,fvar(4)), 8                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 24             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2 
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 17
p1sprpriority = -2
p2facing = 1
getpower = 0,0
envshake.time = 12
envshake.freq = 150
envshake.ampl = -20

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(100*root,fvar(4)), 8                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 24             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2 
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = ceil(65*(root,fvar(11)*.65)) 
guard.ctrltime = 17
p1sprpriority = -2
p2facing = 1
getpower = 0,0
envshake.time = 12
envshake.freq = 150
envshake.ampl = -20

[State 200, 1]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(150*root,fvar(4)), 0                   ;Damage that move inflicts, guard damage
animtype = hard                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -64               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 40              ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -2.2
air.velocity = -2.1,-4.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0
guard.ctrltime = 17
p1sprpriority = -2
p2facing = 1
getpower = 0,0
envshake.time = 12
envshake.freq = 150
envshake.ampl = -20

[State 210, 5]
type = targetstate
trigger1 = movehit = 1
value = 5892
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6306
id = 6306
pos = -15,-60
postype = p2
facing = -1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1
persistent = 0

[State -1]
Type = Helper
trigger1 = anim = 2301
StateNo = 6306
ID = 6306
Name = "Slash"
pos = 0,-50
PosType = P1
Ownpal = 0
Keyctrl = 0
SprPriority = -3
IgnoreHitPause = 1
Persistent = 0
size.xscale = 1
size.yscale = .3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7776
ID = 7772
name = "You May Auto Combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 200, 2]
type = velset
triggerall = anim = 2300
trigger1 = AnimElem = 6
y = 55

[State 200, 2]
type = playsnd
triggerall = anim = 2300
trigger1 = AnimElem = 5
value = 700,0

[State 200, 2]
type = playsnd
trigger1 = movehit
value = 3002,1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = velmul
triggerall = anim = 2300
trigger1 = AnimElemtime(6) >= 0
y = 1.1

[State 200, 2]
type = changeanim
triggerall = anim = 2300
trigger1 = pos Y >= 0
value = 2301

[State 200, 2]
type = posset
trigger1 = pos Y >= 0
y = 0

[State 200, 2]
type = velset
trigger1 = pos Y >= 0
y = 0

[State 200, 2]
type = PlaySnd
triggerall = anim = 2301
trigger1 = AnimElem = 1
value = 0, 5

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time%6 = 0
anim = 6801
pos = 0,-10
random = 50,10
postype = p1
scale = 0.75,0.75
bindtime = 1
sprpriority = 9
vel = 10-random%21,-30-random%20
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = Time%6 = 0
anim = 6801
pos = 0,-10
random = 50,10
postype = p1
scale = 0.75,0.75
bindtime = 1
sprpriority = 9
vel = 10-random%21,-30-random%20
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
triggerall = anim = 2301
trigger1 = Time%2 = 0
anim = 6801
pos = -10,0
random = 50,10
postype = p1
scale = 0.25,0.25
bindtime = 1
sprpriority = -4
vel = -5-random%6,-1-random%7
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
triggerall = anim = 2301
trigger1 = Time%2 = 0
anim = 6801
pos = 10,0
random = 50,10
postype = p1
scale = 0.25,0.25
bindtime = 1
sprpriority = -4
vel = 5+random%6,-1-random%7
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999


[State 0, Explod]
type = Explod
triggerall = anim = 2301
trigger1 = time%12 = 0
anim = 3070
ID = 3070
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = .5,.5
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1

[State 210, 5]
type = nothitby
trigger1 = anim = 2300
value = SCA
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitby
trigger1 = anim = 2301
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1000
value = 2100
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1200
value = 2120
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1300
value = 2130
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1400 || root,stateno = 1450
value = 2140
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 1401 || root,stateno = 1451
value = 2141
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = var(6) >= 100
trigger2 = root,stateno = [8000,8050]
trigger3 = root,stateno = [3000,3999]
trigger4 = time >= 100
trigger4 = roundstate > 2
trigger5 = root,stateno = [200,202]
trigger6 = root,stateno = 610
trigger7 = root,movetype = H
trigger7 = root,stateno != [120,155]
trigger8 = root,stateno = 620
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno = 210
trigger2 = root,stateno = [3000,3999]
trigger3 = root,stateno = [1500,1505]
trigger3 = var(6) >= 30 
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;======================================================================================================================================================
;Maziodyne
[Statedef 3060]
type = S
physics = N
movetype = A
anim = 3060
ctrl = 0
velset = 0, 0
sprpriority = 6
poweradd = 0

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 1401, 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = time < 50
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = time >= 50
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3021
id = 3021
pos = -20,0
facing = 1
sprpriority = 7
bindtime = -1
removetime = 50
ownpal = 1
ignorehitpause = 1
scale = 0.4,0.4

[State 1200, 6]
type = explod
trigger1 = time%6 = 0
anim = 3061
id = 3061
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.25,0.25

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3062
id = 3062
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
scale = 1.5,.8

[State 6800, flames]
type = explod
trigger1 = 1
anim = 6801
ID = 6801
sprpriority = 5
scale=.5,.5
pos = 0+random%100,-90+random%180
vel = 30,0
bindtime = 1
persistent = 1

[State 1350, Hit]
type = hitdef
trigger1 = time%6 = 0
trigger1 = enemynear,movetype != A
priority = 4, Hit
attr = S, SP
damage = ceil(7*root,fvar(4)),1
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 0
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,10
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -2
ground.cornerpush.veloff = 0
air.velocity = -25, -1.5
airguard.velocity = -1, .5
fall = 1
fall.recovertime = 30
airguard.ctrltime = 16
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,106,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
p1sprpriority = 6

[State 1350, Hit]
type = hitdef
trigger1 = time%6 = 0
trigger1 = enemynear,movetype = A
priority = 4, Hit
attr = S, SP
damage = ceil(35*root,fvar(4)),1
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 0
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -2
ground.cornerpush.veloff = 0
air.velocity = -25, -1.5
airguard.velocity = -1, .5
fall = 1
fall.recover = 0
airguard.ctrltime = 16
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,106,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
p1sprpriority = 6

[State 1300]
type = targetstate
trigger1 = movehit = 1
value = 5895
persistent = 1

[State -2, Helper]
type = Helper
trigger1 = movehit&&numhelper(6801)<1
helpertype = normal ;player
name = "Shock"
ID = 6801
stateno = 6801
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = root,fvar(4)*0.89
ignorehitpause = 1
persistent = 0

[State 200,]
type = varadd
trigger1 = movecontact = 1
var(1) = 1

[State 1200, 6]
type = removeexplod
trigger1 = time >= 140
trigger2 = parent,stateno = [2500,2550]
trigger3 = root,stateno = [3000,3999]
trigger4 = parent,stateno != 2140
id = 3062

[State 1350, End]
type = changestate
trigger1 = time >= 140
trigger2 = parent,stateno = [2500,2550]
trigger3 = root,stateno = [3000,3999]
trigger4 = parent,stateno != 2141
value = 6000

;======================================================================================================================================================
;Maziodyne
[Statedef 3061]
type = S
physics = N
movetype = A
anim = 3060
ctrl = 0
velset = 0, 0
sprpriority = 6
poweradd = 0

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 1401, 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = time < 50
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = time >= 50
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3021
id = 3021
pos = -20,0
facing = 1
sprpriority = 7
bindtime = -1
removetime = 50
ownpal = 1
ignorehitpause = 1
scale = 0.4,0.4

[State 1200, 6]
type = explod
trigger1 = time%6 = 0
anim = 3061
id = 3061
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.25,0.25

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3062
id = 3062
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
scale = 1.5,.8

[State 6800, flames]
type = explod
trigger1 = 1
anim = 6801
ID = 6801
sprpriority = 5
scale=.5,.5
pos = 0+random%100,-90+random%180
vel = 30,0
bindtime = 1
persistent = 1

[State 1350, Hit]
type = hitdef
trigger1 = time%6 = 0
trigger1 = enemynear,movetype != A
priority = 4, Hit
attr = S, SP
damage = ceil(13*root,fvar(4)),1
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 0
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,10
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -.3
ground.cornerpush.veloff = 0
air.velocity = -25, -1.5
airguard.velocity = -1, .5
fall = 1
fall.recovertime = 30
airguard.ctrltime = 16
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,106,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
p1sprpriority = 6

[State 1350, Hit]
type = hitdef
trigger1 = time%6 = 0
trigger1 = enemynear,movetype = A
priority = 4, Hit
attr = S, SP
damage = ceil(35*root,fvar(4)),1
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 0
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -.3
ground.cornerpush.veloff = 0
air.velocity = -25, -1.5
airguard.velocity = -1, .5
fall = 1
fall.recover = 0
airguard.ctrltime = 16
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,106,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
p1sprpriority = 6

[State 1300]
type = targetstate
trigger1 = movehit = 1
value = 5895
persistent = 1

[State -2, Helper]
type = Helper
trigger1 = movehit&&numhelper(6801)<1
helpertype = normal ;player
name = "Shock"
ID = 6801
stateno = 6801
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 200,]
type = varadd
trigger1 = movecontact = 1
var(1) = 1

[State 1200, 6]
type = removeexplod
trigger1 = time >= 140
trigger2 = parent,stateno = [2500,2550]
trigger3 = root,stateno = [3000,3999]
trigger4 = parent,stateno != 2141
id = 3062

[State 1350, End]
type = changestate
trigger1 = time >= 140
trigger2 = parent,stateno = [2500,2550]
trigger3 = root,stateno = [3000,3999]
trigger4 = parent,stateno != 2140
value = 6000

;---------------------------------------------------------------------------
;MIzanagi Cross Slash
[Statedef 2305]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2305
sprpriority = -2
velset = 0,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = playerpush
trigger1 = 1
value = 1

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = explod
trigger1 = animelem = 4
anim = 6201
id = 6201
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1200, 6]
type = nothitby
trigger1 = time < 60
value = SCA
ignorehitpause = 1

[State 6800,]
type = explod
trigger1 = animelem = 11
anim = 2355
ID = 2355
sprpriority = 1
scale=.33,.33
pos = 0,0
bindtime = -1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 3000, 6]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
attr = S, HA
animtype  = Hard
damage = ceil(100+(20*numhelper(9884))), 10
getpower  = 0
priority  = 5
hitflag = MAFD
guardflag = M
pausetime = 10,10
sparkno = 3
sparkxy = -10,-60
hitsound   = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 11
ground.velocity = -1, -3
guard.velocity = -3
air.velocity = -.5,-3
airguard.velocity = .5,-3
fall.animtype = Hard
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = -2

[State 3000, 6]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, HA
animtype  = Hard
damage = ceil(160+(32*numhelper(9884))), 10
getpower  = 0
priority  = 5
hitflag = MAFD
guardflag = M
pausetime = 10,10
sparkno = 3
sparkxy = -10,-60
hitsound   = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 11
ground.velocity = -1, -3
guard.velocity = -3
air.velocity = -.5,-3
airguard.velocity = .5,-3
fall.animtype = Hard
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = -2

[State 3000, 6]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
attr = S, HA
animtype  = Hard
damage = ceil(100+(20*numhelper(9884))), 10
getpower  = 0
priority  = 5
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = 3
sparkxy = -10,-60
hitsound   = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 11
ground.velocity = -1, -3
guard.velocity = -3
air.velocity = -.5,-3
airguard.velocity = .5,-3
fall.animtype = Hard
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = -2

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State -1]
Type = Helper
trigger1 = movehit
StateNo = 6305
ID = 6305
Name = "Slash"
pos = 0,-70
PosType = P1
Ownpal = 0
Keyctrl = 0
SprPriority = -3
IgnoreHitPause = 1
Persistent = 0
size.xscale = 1
size.yscale = .3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 7005, ]
type = targetstate
trigger1 = movehit
value = 3001
ignorehitpause = 1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0, 4

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = root,stateno != 3000
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi Atom Smasher
[Statedef 2350]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 2350
sprpriority = -2

[State 1]
type = posset
trigger1 = !time
y = -40
x = 0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
triggerall = Prevstateno != [2000,2999]
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
triggerall = Prevstateno != [2000,2999]
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
triggerall = Prevstateno != [2000,2999]
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 1200, 6]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 18
value = 0, 5

[State 6800,]
type = explod
trigger1 = animelem = 20
anim = 2355
ID = 2355
sprpriority = 0
scale=.33,.33
pos = 0,0
bindtime = -1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State ]
type = Helper
triggerall = movecontact
triggerall = var(1) <= 9
trigger1 = gametime % 1 = 0
ID = 4086
pos = 0+random%400,30-random%200
postype = left
stateno = 4086
facing = ifelse(random%2,1,-1)
helpertype = normal
keyctrl = 0
ownpal = 1
persistent = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
size.xscale = 0.2
size.yscale = 0.11

[State ]
type = Helper
triggerall = movecontact
triggerall = var(1) <= 9
trigger1 = gametime % 1 = 0
ID = 4086
pos = 0+random%400,30-random%200
postype = left
stateno = 4086
facing = ifelse(random%2,1,-1)
helpertype = normal
keyctrl = 0
ownpal = 1
persistent = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
size.xscale = 0.2
size.yscale = 0.11

[State 200, 1]
type = HitDef
nochainID = 8000
triggerall = enemynear,stateno != [5200,5210]
triggerall = time >= 60
triggerall = var(1) <= 9
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
triggerall = enemynear,movetype != A
attr = S,HA                     ;Attribute: Standing, Normal Attack
damage = ceil(29+(6*numhelper(9884))),3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,  (ceil(enemynear,pos y)-random%90)                 ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  =35             ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-8 
air.velocity = -.2,-8          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
down.bounce = 1
down.velocity = 0,-5
getpower = 0,0
guard.ctrltime = 8
envshake.time = 10
envshake.freq = 50
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0

[State 200, 1]
type = HitDef
nochainID = 8000
triggerall = enemynear,stateno != [5200,5210]
triggerall = time >= 60
triggerall = var(1) <= 9
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
triggerall = enemynear,movetype = A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(60+(12*numhelper(9884))),3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,  (ceil(enemynear,pos y)-random%90)                ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 35               ;Time opponent is in hit state
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
ground.velocity = -.2,-8 
air.velocity = -.2,-8          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 16                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
getpower = 0,0
down.bounce = 1
down.velocity = 0,-5
guard.ctrltime = 8
envshake.time = 10
envshake.freq = 100
p1sprpriority = -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Dampener]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = root,fvar(5)
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(21) = 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.2
ignorehitpause = 1

[State -2, Heat Riser Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) <= 0
trigger1 = 1
value = (root,fvar(5))*1.1
ignorehitpause = 1

[State -2, Both Active]
type = attackmulset
triggerall = root,fvar(21) != 0
triggerall = root,fvar(19) > 0
trigger1 = 1
value = (root,fvar(5))*1.3
ignorehitpause = 1

[State 200,]
type = varadd
trigger1 = movecontact = 1
var(1) = 1

[State 200,]
type = changeanim
trigger1 = anim != 2351
trigger1 = var(1) >= 10
value = 2351

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 77777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State 210, 5]
type = hitby
trigger1 = 1
value = SCA, AA, AP
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 2550
ignorehitpause = 1
persistent = 1

[State 210, 5]
type = Changestate
trigger1 = var(5) >= 140
trigger2 = time >= 140
trigger2 = roundstate > 2
trigger3 = root,movetype = H
trigger3 = root,stateno != [120,155]
value = 2500
ctrl = 0

[State 210, 5]
type = Changestate
trigger1 = root,stateno != [3050,3055]
value = 2500
ctrl = 0

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;----------------------------------------------------------------------------
;Atom Slash
[Statedef 4086]
type = A
ctrl = 0
anim = 6350
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state ]
type = trans
trigger1 = 1
trans = add
alpha = 256,256

[State ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State ]
type = varrandom
trigger1 = time = 0
v = 13
range = 0,350
ignorehitpause = 1

[State ]
type = AngleDraw
trigger1 = time >= 0
scale = 1.3,1+(fvar(10))

[State ]
type = AngleSet
trigger1 = time >= 0
value = var(13)

[State ]
type = AngleAdd
trigger1 = time = 0
value = 1

[State ]
type = VarSet
trigger1 = time = 0
fvar(10) = 0

[State ]
type = VarAdd
trigger1 = time >= 0
fvar(10) = 2

[State -1]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;MIzanagi Exit
[Statedef 2500]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
sprpriority = -2

[State 210, 5]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 6800, flames]
type = explod
trigger1 = time < 7
anim = 6802
ID = 6802
sprpriority = -3
random=120,10
vel = 0,-9-random%5
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
supermovetime = 99999
pausemovetime = 99999

[State 6800, flames]
type = explod
trigger1 = time < 7
anim = 6802
ID = 6802
sprpriority = -1
random=120,10
vel = 0,-9-random%5
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
supermovetime = 99999
pausemovetime = 99999

[State 0]
type = playsnd
trigger1 = !time
value = 2000,3

[State 0]
type = angledraw
trigger1 = 1
scale = 1-(0.01*(time-0)),1+(0.01*(time-0))

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=256-(25*(time-0)),25*(time-0)

[State 0]
type = Destroyself
trigger1 = Time >= 60
trigger2 = prevstateno != 2301
trigger2 = Time >= 10
trigger2 = numhelper(2000) > 1
trigger3 = prevstateno = 2301
trigger3 = Time >= 30
trigger3 = numhelper(2000) > 1

[State ]
type = screenbound
trigger1 = 1
movecamera = 0,0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;MIzanagi Damaged
[Statedef 2550]
type    = S
movetype= H
physics = S
poweradd = 0
ctrl = 0
sprpriority = -2

[State 210, 5]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 0]
type = playsnd
trigger1 = !time
value = 2000,0

[State 0]
type = playsnd
trigger1 = !time
value = 2000,2

[State 0]
type = angledraw
trigger1 = 1
scale = 1-(0.01*(time-0)),1+(0.01*(time-0))

[State 8000, ]
type = palfx
trigger1 = animelem = 1
time = 1
add = 255,0,0

[State 1300]
type = helper
trigger1 = gethitvar(damage) > 0
trigger1 = !time
helpertype = normal
stateno = 7778
ID = 7778
name = "Ouch!"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State ]
type = Explod
trigger1 = !time
anim = 6501
ID = 6501
pos = 0,-70
scale = 1.2,1.2
facing = ifelse(random%2,1,-1)
vfacing = 1
postype = p1
ownpal = 1
vel = 0,0
bindtime = 1
sprpriority = 5
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=256-(20*(time-0)),20*(time-0)

[State ]
type = screenbound
trigger1 = 1
movecamera = 0,0

[State 0]
type = Destroyself
trigger1 = Time >= 10

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Burst
[Statedef 2800]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 8001
sprpriority = -2

[State 8000,]
type = Turn
trigger1 = root,stateno = 8000
trigger1 = facing * enemynear(0),facing = 1

[State 8000,]
type = bindtoroot
trigger1 = root,stateno = 8000
pos = 0,0

[State 1]
type = varset
trigger1 = !time
var(5) = 0

[State 1]
type = varadd
trigger1 = time
trigger1 = var(0)=root,var(18)
var(5) = 1

[State 210, 5]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
trigger1 = time > 1
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
trigger1 = time > 1
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
trigger1 = time > 1
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,0
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
trigger1 = time > 1
anim = 6800
ID = 6800
sprpriority = -3
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
trigger1 = time > 1
anim = 6800
ID = 6800
sprpriority = -2
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
triggerall = Prevstateno != [2000,2999]
trigger1 = time < 7
trigger1 = time > 1
anim = 6800
ID = 6800
sprpriority = -1
random=80,10
vel = -2+random%4,-5-random%3
scale=.4,.4
pos = 0,-30
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = playsnd
trigger1 = !time
value = 2000,1

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=25*(time-0),256-(25*(time-0))

[State 0]
type = angledraw
trigger1 = time < 5
scale =0.3*(time-0),1

[State 0]
type = angledraw
trigger1 = time >4
trigger1 = time <10
scale = 1.5-(0.1*(time-4)),1

[State 210, 5]
type = Changestate
trigger1 = root,stateno != [8000,8060]
value = 2500
ctrl = 0

[State Pause]
type=changeanim
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18) ;Since supermovetime is enabled there will be a difference in the values when the root is paused
value=anim
elem=animelemno(0)
[State Pause]
type=posfreeze
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
[State Reinitialize]
type = varset
triggerall=root,roundstate=2
trigger1=var(0)!=root,var(18)
var(0) = root,var(18)
[State Root Time]
type=varadd
trigger1=1
var(0)=1

;---------------------------------------------------------------------------
;MIzanagi Yomi Drop
[Statedef 2390]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 2390
sprpriority = 4

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=(((time*2)-0)),256-time*2

[State 0]
type = changeanim
trigger1= time = 150
value = 2391

[State 0]
type = changeanim
trigger1= time = 280
value = 2392

[State 6800, flames]
type = explod
trigger1 = anim = 2391
anim = 6800
ID = 6800
sprpriority = 1
random=80,10
vel = -4+random%8,-7-random%3
scale=.45,.45
pos = 0,-50
bindtime = 1
persistent = 1
pausemovetime = 9999
supermovetime = 9999

[state ]
type = playsnd
trigger1 = !time
value = 3903,0
channel = 8
loop = 1

[state ]
type = EnvShake
trigger1 = anim = 2390
trigger1 = time%4 = 0
time = 4
freq = 20
ampl = 3

[state ]
type = EnvShake
trigger1 = anim = 2391
trigger1 = time%4 = 0
time = 4
freq = 65
ampl = 4

[state ]
type = playsnd
trigger1 = anim = 2391
value = 1201,0
persistent = 0

[state ]
type = playsnd
trigger1 = time = 185
value = 3903,4
persistent = 0

[state ]
type = playsnd
trigger1 = time = 270
value = 1301,0
persistent = 0
channel = 7

[state ]
type = playsnd
trigger1 = anim = 2392
trigger1 = animelemtime(3) = 2
value = 3950,0
channel = 9
loop = 1

[state ]
type = playsnd
trigger1 = anim = 2392
trigger1 = animelem = 1
value = 5,7
channel = 6

[State 0,Cutin]
type = Explod
trigger1 = anim = 2392
trigger1 = animelemtime(3) = 2
anim = 3980
id = 3980
postype = left
pos = 150,120
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime=99
pausemovetime=99
scale = 3,2.75
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 1200, 6]
type = explod
trigger1 = anim = 2392
trigger1 = animelem = 3
anim = 6131
pos = 0,20
facing = 1
sprpriority = 0
bindtime = 6
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.45

[state ]
type = stopsnd
trigger1 = anim = 2392
trigger1 = animelemtime(3) = 2
channel = 6

[state ]
type = stopsnd
trigger1 = anim = 2392
trigger1 = animelemtime(3) = 2
channel = 7

[state ]
type = stopsnd
trigger1 = anim = 2392
trigger1 = animelemtime(3) = 2
channel = 8

[state ]
type = stopsnd
trigger1 = root,stateno != [3900,3951]
channel = 9

[State 210, 5]
type = removeexplod
trigger1 = root,stateno != [3900,3951]
id = 3980

[State 210, 5]
type = destroyself
trigger1 = root,stateno != [3900,3951]
;======================================================================================================================================================
;Myriad Beam
[Statedef 3930]
type    = S
movetype= I
physics = S
poweradd = 0
anim = 3930
ctrl = 0
velset = 0,5
sprpriority = 6

[State 0, AngleDraw]
type = velmul
trigger1 = time = 20
y = .1

[State 0, AngleDraw]
type = velset
trigger1 = time = 200
y = 70

[State 0, AngleDraw]
type = velset
trigger1 = time = 205
y = 0

[State 210, 5]
type = playsnd
trigger1 = !time
value = 3901,4
persistent = 0

[State 6800, flames]
type = explod
trigger1 = 1
anim = 6980
ID = 6980
sprpriority = 8
scale=.5,.5
pos = -80+random%160,0-random%90
vel = 0,-30-random%10
bindtime = 1
persistent = 1

[State 6800, flames]
type = explod
trigger1 = time >= 200
anim = 6970
ID = 6970
sprpriority = 8
scale=.2,.2
pos = -150+random%300,-300-random%450
vel = 0,0
bindtime = 1
persistent = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=256,256

[State 0]
type = Destroyself
trigger1 = root,stateno != 3903

;======================================================================================================================================================
;Fade Away
[Statedef 6000]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 6306
value = 90

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=256-(25*(time-0)),256

[State 0]
type = Destroyself
trigger1 = Time = 90

;======================================================================================================================================================
;current
[Statedef 6001]
type    = S
movetype= I
physics = S
poweradd = 0
anim = 6000
ctrl = 0
sprpriority = -2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 10+random%160

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=256,256

[State 0]
type = Destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Burn
[Statedef 6800]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 9
y = 9

[State 6800, flames]
type = explod
trigger1 =enemynear,statetype != L
trigger1 = time%12 = 0
anim = 6800
;ID = 6801
sprpriority = 6
postype = p2
random=50,50
scale=.3,.3
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y));+90
bindtime = 4
pausemovetime = 9999
Supermovetime = 9999

[State 6800, flames]
type = explod
trigger1 =enemynear,statetype = L
trigger1 = time%12 = 0
anim = 6800
;ID = 6801
sprpriority = 6
postype = p2
random=50,50
scale=.3,.3
pos = (enemynear,const(size.mid.pos.x)),0
bindtime = 4
pausemovetime = 9999
Supermovetime = 9999

[State 6800, 5]
type = destroyself
trigger1 =p2movetype!=H||p2statetype=L||time>50||root,stateno=5150

;======================================================================================================================================================
;Shock
[Statedef 6801]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 9
y = 9

[State 6800, flames]
type = explod
trigger1 =enemynear,statetype != L
anim = 6801
;ID = 6801
sprpriority = 6
postype = p2
random=50,95
scale=.3,.3
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y));+90
bindtime = 4

[State 6800, flames]
type = explod
trigger1 =enemynear,statetype = L
anim = 6801
;ID = 6801
sprpriority = 6
postype = p2
random=50,95
scale=.3,.3
pos = (enemynear,const(size.mid.pos.x)),0
bindtime = 4

[State 6800, 5]
type = destroyself
trigger1 =p2movetype!=H||p2statetype=L||time>120||root,stateno=5150

;======================================================================================================================================================
;Flash
[Statedef 6803]
Type    = S                      
MoveType= I                      
Physics = N 
Ctrl = 0
Anim = 6804
SprPriority = 9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow

[State 0]
type=Trans
trigger1=time >= 60
trans=addalpha
alpha=256-(20*(time-60)),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = time*2
scale = 0+time*0.065,0+time*0.065

[State 0, DestroySelf]
type = destroyself
trigger1 = time >= 240

;======================================================================================================================================================
;Cross Slash Effect
[Statedef 6305]
Type    = S                      
MoveType= I                      
Physics = N 
Ctrl = 0
Anim = 6305
SprPriority = -5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = Time >= 3
trigger1 = Time%4 = 0
anim = 6801
pos = -180+random%180,0
random = 70,50
postype = p1
scale = 0.75,0.75
bindtime = 1
sprpriority = -3
vel = 20+random%10,0
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = Time >= 3
trigger1 = Time%4 = 0
anim = 6801
pos = -180+random%180,0
random = 70,50
postype = p1
scale = 0.75,0.75
bindtime = 1
sprpriority = -3
vel = 20+random%10,0
ignorehitpause = 1
ownpal = 1
persistent = 1
supermovetime = 999
pausemovetime = 999

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow

[State 200]
type = PlaySnd
trigger1 = !time
value = 3002,0

[State 0, AngleDraw]
type = null;AngleDraw
trigger1 = time < 10
scale = 3,0+time*0.01

[State 0, DestroySelf]
type = changestate
trigger1 = root,stateno != [3000,3005]
value = 6000

;======================================================================================================================================================
;Cross Slash Effect
[Statedef 6306]
Type    = S                      
MoveType= I                      
Physics = N 
Ctrl = 0
Anim = 6305
SprPriority = -5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 200]
type = PlaySnd
trigger1 = !time
value = 3002,0

[State 0, DestroySelf]
type = changestate
trigger1 = root,stateno != [1500,3005]
value = 6000

;---------------------------------------------------------------------------
;Tarrot Card
[Statedef 6500]
type     = A
movetype = I
physics  = N
velset   = 0,0
ctrl     = 0
anim     = 6500
sprpriority = 3

[State 0]
type=Trans
triggerall = 1
trigger1=1
trans=addalpha
alpha=50*(time-0),256-(50*(time-0))

[State ]
type = AngleSet
trigger1 = time >= 0
value = 1

[State ]
type = AngleAdd
trigger1 = time = 0
value = 1

[State ]
type = AngleDraw
trigger1 = time >= 0
scale = fvar(5),1

[State ]
type = VarSet
trigger1 = time = 0
fvar(5) = 0

[State ]
type = VarSet
trigger1 = time = 0
var(13) = 0

[State ]
type = VarSet
trigger1 = fvar(5) >= 1
fvar(5) = 1

[State ]
type = VarSet
trigger1 = fvar(5) <= -1
fvar(5) = -1

[State ]
type = VarSet
trigger1 = fvar(5) = 1
var(13) = 1

[State ]
type = VarSet
trigger1 = fvar(5) = -1
var(13) = 0

[State -2]
type = VarAdd
triggerall = var(13) = 1
trigger1 = gametime % 1 = 0
fvar(5) = -0.2

[State -2]
type = VarAdd
triggerall = var(13) = 0
trigger1 = gametime % 1 = 0
fvar(5) = 0.2

[State -1]
type     = NotHitBy
trigger1 = 1
value    = SCA
ignorehitpause = 1

[State ]
type = null;PlaySnd
triggerall = root,stateno != 420 && root,stateno != 440
trigger1 = time = 9
value = 241, 0

[State ]
type = bindtoparent
trigger1 = root,stateno = 205
pos= 26,-120

[State ]
type = bindtoparent
trigger1 = root,stateno = [1400,1401]
pos= 1,-149

[State ]
type = bindtoparent
trigger1 = root,stateno = [1450,1451]
trigger2 = root,stateno = 1505
pos= 20,-140

[State ]
type = bindtoparent
trigger1 = root,stateno = 1500
pos= 13,-107

[State ]
type = bindtoparent
trigger1 = root,stateno = 1300
pos= -4,-148

[State ]
type = bindtoparent
trigger1 = root,stateno = 3000
pos= -4,-148

[State ]
type = null;bindtoparent
trigger1 = root,stateno = 3900
pos= 0,-60

[State ]
type = velset
trigger1 = root,stateno = 3900
y = .5

[State -1]
type     = Destroyself
trigger1 = root,stateno = 3000
trigger1 = root,animelem = 10
trigger2 = root,stateno = 205
trigger2 = root,animelemtime(13) = 7
trigger3 = root,stateno = [1400,1505]
trigger3 = root,animelem = 4
trigger4 = root,stateno = 1300
trigger4 = root,animelem = 11
trigger5 = root,movetype = H
;[State -1]
;type     = changeanim
;triggerall = root,stateno = 420 || root,stateno = 440
;trigger1 = time = 0
;value = 244
;
;[State -1]
;type     = Destroyself
;triggerall = root,stateno != 420 && root,stateno != 440
;trigger1 = time = 10 || root,movetype = H
;
;[State -1]
;type     = Destroyself
;triggerall = root,stateno = 420 || root,stateno = 440
;trigger1 = time = 7 || root,movetype = H

;======================================================================================================================================================
;Throw Away
[Statedef 6950]
type = S
physics = N
movetype = I
anim = 6202
ctrl = 0
sprpriority = 5

[State 8000, ]
type = velset
trigger1 = !time
x = 4+random%4
y = -9

[State 8000, ]
type = playsnd
trigger1 = !time
value = 700,2

[State 8000, ]
type = veladd
trigger1 = 1
y = 0.4

[State 8000, ]
type = null;velset
trigger1 = pos y >= 0
y = -(vel y)

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;The Floor is Lava
[Statedef 6392]
type = S
physics = N
movetype = A
anim = 6392
ctrl = 0
velset = 0, 0
sprpriority = 3

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 3903, 3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State ]
type = Explod
trigger1 = time = 0
anim = 6393
ID = 6393
pos = 0,0
scale = 0.75,0.15
facing = 1
postype = p1
ownpal = 1
ontop = 0
bindtime = 1
removeongethit = 1
sprpriority = -5
ignorehitpause = 0

[State 3000, 6]
type = HitDef
nochainID = 8000
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(50),0
priority  = 5
hitflag = MAFD
guardflag = MA
pausetime = 3,3
sparkno = 3
sparkxy = 0,0
hitsound   = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -15
guard.velocity = -12
air.velocity = -15.5,-5
airguard.velocity = -3,-3
kill = 0
getpower = 0,0
givepower = 0,0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 161,]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 3905

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = changestate
trigger1 = animtime = 0
value = 6000

;======================================================================================================================================================
[Statedef 3904]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -1

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow

[State BindToR, 1]
type = null;Bindtoroot
Trigger1 = Time >= 4
Time = -1
facing = 1
pos = -10,0

[State ChangeA, 1]
type = ChangeAnim
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
trigger1 = root,stateno != 2453 || root,stateno != 2455
time = 1
add = 0,0,255
mul = 0,0,var(18)

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 3

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.32

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = 0.003

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 11

;----------------------------------------------------------------------------
;Shadow
[Statedef 3992]
type = A
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

[State ]
type = VarSet
trigger1 = time = 0
fvar(1) = 0

[State ]
type = VarAdd
trigger1 = time <= 100
fvar(1) = 0.00055

[State ]
type = Explod
trigger1 = time = 0
anim = 3990+random%2
ID = 3990
pos = 0,0
scale = 0.05,0.0025
facing = 1
postype = p1
ownpal = 1
ontop = 0
bindtime = 1
removetime = -1
removeongethit = 1
sprpriority = 1
ignorehitpause = 0

[State ]
type = ModifyExplod
trigger1 = time <= 110
ID = 3990
scale = 0.05,0.0025+fvar(1)

[State ]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 210, 5]
type = removeexplod
trigger1 = root,stateno != [3900,3951]
id = 3990

[State 210, 5]
type = destroyself
trigger1 = root,stateno != [3900,3951]

;----------------------------------------------------------------------------
;Shadow
[Statedef 3991]
type = A
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

[State ]
type = VarSet
trigger1 = time = 0
fvar(1) = 0

[State ]
type = VarAdd
trigger1 = time <= 100
fvar(1) = 0.0011

[State ]
type = Explod
trigger1 = time = 0
anim = 3990+random%2
ID = 3990
pos = 0,0
scale = 0.1,0.005
facing = 1
postype = p1
ownpal = 1
ontop = 0
bindtime = 1
removetime = -1
removeongethit = 1
sprpriority = 2
ignorehitpause = 0

[State ]
type = ModifyExplod
trigger1 = time <= 110
ID = 3990
scale = 0.1,0.005+fvar(1)

[State ]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 210, 5]
type = removeexplod
trigger1 = root,stateno != [3900,3951]
id = 3990

[State 210, 5]
type = destroyself
trigger1 = root,stateno != [3900,3951]

;----------------------------------------------------------------------------
;Shadow
[Statedef 3990]
type = A
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

[State ]
type = VarSet
trigger1 = time = 0
fvar(1) = 0

[State ]
type = VarAdd
trigger1 = time <= 100
fvar(1) = 0.0022

[State ]
type = Explod
trigger1 = time = 0
anim = 3990+random%2
ID = 3990
pos = 0,0
scale = 0.2,0.01
facing = 1
postype = p1
ownpal = 1
ontop = 0
bindtime = 1
removetime = -1
removeongethit = 1
sprpriority = 3
ignorehitpause = 0

[State ]
type = ModifyExplod
trigger1 = time <= 110
ID = 3990
scale = 0.2,0.01+fvar(1)

[State ]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 210, 5]
type = removeexplod
trigger1 = root,stateno != [3900,3951]
id = 3990

[State 210, 5]
type = destroyself
trigger1 = root,stateno != [3900,3951]

;======================================================================================================================================================
;Aura
[Statedef 3958]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 250,0,0
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -4
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .00075
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;Aura
[Statedef 3959]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 250,0,0
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = root,fvar(19)*.000008
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 8

;======================================================================================================================================================
;Ultraburst Manager
[Statedef 9879]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State -2]
type = Explod
triggerall = TeamSide = 1
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = left
pos = 8,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = Explod
triggerall = TeamSide = 2
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = right
pos = -60,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = modifyExplod
trigger1 = root,fvar(19) > 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1
persistent = 1

[State -2]
type = RemoveExplod
trigger1 = root,fvar(19) <= 0
ID = 9879
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = !numhelper(8988)
helpertype = normal
stateno = 8988
ID = 8988
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
supermovetime=99999
pausemovetime=99999

[State -2]
type = assertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State -2]
type = poweradd
triggerall = root,stateno != [3000,4999]
trigger1 = root,movetype != H
value = 3
ignorehitpause = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = removeexplod
trigger1 = root,fvar(19) <= 0
ID = 7003
persistent = 1

[State 8000, ]
type = playsnd
trigger1 = root,fvar(19) <= 0
value = 8005,1
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;======================================================================================================================================================
;Aura
[Statedef 9883]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = 10

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 250,0,0
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 180
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 256
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = .33,fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .005
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;Not Over Yet Manager
[Statedef 9884]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1, 3]
type = playsnd
trigger1 = time = 0
trigger2 = root,time = [0,1]
Trigger2 = root,stateno = 3000
trigger3 = root,time = [0,1]
Trigger3 = root,stateno = 3050
value = 3000, 3

[State 1, 3]
type = poweradd
trigger1 = !time
value = 500

[State 1, 3]
type = poweradd
triggerall = root,stateno != [3000,3999]
trigger1 = time%10 = 0
value = 1

[State -2, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 9884
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 9884
pos = -95,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2]
type = Helper
Trigger1 = !time
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
trigger1 = root,time = [0,1]
Trigger1 = root,stateno = 3000
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
trigger1 = root,time = [0,1]
Trigger1 = root,stateno = [3050,3055]
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 1350, End]
type = null;destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;---------------------------------------------------------------------------
;Super Finish
[Statedef 8992]
physics  = N
ctrl     = 0
Anim = 9999

[State 3020,]
type = pause
trigger1 = !time
time = 50
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = !time
value = 7005,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID =7002
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale =1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7005
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -5
ownpal = 1
scale = 1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7006
ID = 7006
facing = 1
postype = back
pos = 160,120
sprpriority = -7
ownpal = 1
scale =.7,.7
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time < 20
ID=7006
;trans=addalpha
scale = .7+time*.1,.7+time*.1
;alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7006
trans=addalpha
scale = .7+time*.1,.7+time*.1
alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7002
trans=addalpha
alpha=256-((time-20)*5),256

[State 3020,]
type = removeexplod
trigger1 = time >= 100
ID = 7002
ignorehitpause = 1

[State 3020,]
type = DestroySelf
trigger1 = time >= 100
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion BG
[Statedef 8985]
physics  = N
ctrl     = 0
Anim = 7100

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State AssertS, 1]
type = AssertSpecial
trigger1 = time >= 16
flag = nobg
flag2 = nofg

[State BGPalF, 1]
type = BGPalFX
trigger1 = time < 16
mul = 256-(time)*5,256-(time)*5,256-(time)*5
time = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7002
id = 7002
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7003
id = 7003
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7100
id = 7100
postype = left
pos = -10, 120
facing = 1
sprpriority = -2000
bindtime = -1
ownpal = 0
ignorehitpause = 1
persistent = 0
scale=150,.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7200
id = 7200
postype = left
pos = 160,120
facing = 1
sprpriority = -1950
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale =.5,.5
pausemovetime = 9999
supermovetime = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7003)
trigger1 = time 
ID=7003
trans=addalpha
alpha = 256,256
scale = 0.1+(time*.03),0.1+(time*.03)

[State 3007,]
type = Helper
trigger1 = time%15 = 0
helpertype = Normal
name = "Effect"
stateno = 7000
ID = 7000
pos = 0,-80
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 1

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = !numhelper(9884)
source = 7,0
dest = 7,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = numhelper(9884)
source = 7,0
dest = 8,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = ishelper(7003)
source = 7,0
dest = 9,0
ignorehitpause = 1
persistent = 0

[State 3020,]
type = changestate
trigger1 = ishelper(7001)
trigger1 = time >= 50
trigger2 = ishelper(7002)
trigger2 = time >= 50
trigger3 = ishelper(7003)
trigger3 = time >= 50
value = 8986
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion Effect
[Statedef 7000]
physics  = N
ctrl     = 0
Anim = 7000

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
pos=0,95
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
vfacing = -1
pos=0,145
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ]
type=varadd
trigger1=numexplod(7000)
var(0)=7

[State ]
type=varset
trigger1=var(0)>256
var(0)=256

[State ]
type=varadd
trigger1=numexplod(7000)
fvar(0)=.022

[State ]
type=modifyexplod
trigger1=numexplod(7000)
ID=7000
trans=addalpha
alpha=256-var(0),256
scale=.5,1-fvar(0)

[State ]
type=RemoveExplod
trigger1=var(0)>=256&&numexplod(7000)
trigger2 = root,stateno = [3901,3999]
ID=7000

[State 3020,]
type = destroyself
trigger1 = !numexplod(7000)
trigger1 = time >= 15
trigger2 = root,stateno = [3901,3999]
ignorehitpause = 1

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = !numhelper(9884)
source = 4,0
dest = 4,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = numhelper(9884)
source = 4,0
dest = 5,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003)
source = 4,0
dest = 6,0
ignorehitpause = 1
persistent = 0

;-------------------------------------------------------------------------------
;Distortion BG End
[Statedef 8986]
type = A
physics = N
anim = 9999

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State AssertS, 1]
type = AssertSpecial
trigger1 = time <= 16
flag = noBG

[State BGPalF, 1]
type = BGPalFX
trigger1 = numhelper(8988)
trigger2 = enemynear,numhelper(8988)
triggerall = time >= 16
mul = (time-15)*10,(time-15)*10,(time-15)*10
time = 1
ignorehitpause = 1

[State BGPalF, 1]
type = BGPalFX
trigger1 = !numhelper(8988)
trigger1 = time >= 16
mul = (time-15)*16,(time-15)*16,(time-15)*16
time = 1
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7100)
trigger1 = time 
ID=7100
trans=addalpha
alpha = 256-(time*10),256

[State RemoveE, 1]
type = RemoveExplod
triggerall = numexplod(7100)
trigger1 = time >= 25
ID = 7100

[State DestroyS, 1]
type = DestroySelf
trigger1 = !numhelper(7000)
trigger1 = time >= 26

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG
[Statedef 8988]
physics  = N
ctrl     = 0
Anim = 9999

[State 0, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time < 30
ID=7001
trans=addalpha
alpha=0+(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 256-time*10,256-time*10,256-time*10
ignorehitpause = 1
persistent = 1

[State 7005, ]
type = bgpalfx
trigger1 = time >= 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156,156,156
ignorehitpause = 1
persistent = 1

[State 3020,]
type = removeexplod
trigger1 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = winko
ignorehitpause = 1

[State 3020,]
type = changestate
trigger1 = root,fvar(19) <= 0
value = 8989
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG Fade
[Statedef 8989]
physics  = N
ctrl     = 0
Anim = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time
ID=7001
trans=addalpha
alpha=256-(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156+time*10,156+time*10,156+time*10
ignorehitpause = 1
persistent = 1


[State 3020,]
type = removeexplod
trigger1 = time >= 30
trigger2 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = time >= 30
trigger2 = winko
ignorehitpause = 1


;======================================================================================================================================================
;The Helper of Zio
[Statedef 7770]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 1
persistent = 1

;======================================================================================================================================================
;The Helper of Auto Combos
[Statedef 7776]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = [0,99]
trigger2 = time >= 20
persistent = 1

;======================================================================================================================================================
;The Helper of Permission
[Statedef 7777]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = [6060,6061]
trigger2 = root,movetype != A
trigger3 = numhelper(7777) > 1
trigger3 = time >= 5
trigger4 = root,stateno = [1000,3999]
trigger4 = root,time < 2
persistent = 1

;======================================================================================================================================================
;The Helper of Self Damage
[Statedef 7778]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 10
persistent = 1

;======================================================================================================================================================
;The Helper of Heat Risers
[Statedef 7800]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 1
trigger2 = root,movetype = H
persistent = 1

;======================================================================================================================================================
;Mandala Hit Check
[Statedef 7801]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno != 1200
persistent = 1

;======================================================================================================================================================
;Astral Heat Background
[Statedef 7005]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7005
ID = 7006
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = timerfreeze
ignorehitpause = 1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = globalnoshadow
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7007
ID = 7005
pos = 0,200
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-16
accel = 0,0
random = 0,0
removetime = 126
scale = 0.6,0.6
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7007
ID = 7005
pos = 0,200
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,-16
accel = 0,0
random = 0,0
removetime = 126
scale = 0.6,0.6
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3903]
ID = 7005

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3903]
ID = 7006

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3903]

;======================================================================================================================================================
;Ink's Projectile Detection

[Statedef 33333333]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
 
;==========================================================================
;                Config Section
;==========================================================================
anim = 9999                  ; blank animation
 
;==========================================================================
 
[state 33333333, Clipboard] 
type = DisplayToClipboard
trigger1 = 1
text = "Highest Playerid = %d , Projectile helper's PlayerId = %d\nBy Inktrebuchet"
params = var(0)-1, var(3)
;==========================================================================
;                Detect Enemy's Projectile Helper
;==========================================================================
[State 33333333, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 33333333, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
v = 0
value = 1
ignorehitpause = 1
 
[State 33333333, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = ASC, NP, SP, HP
trigger1 = var(3) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = ASC, NP, SP, HP
trigger2 = var(3) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = ASC, NP, SP, HP
trigger3 = var(3) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = ASC, NP, SP, HP
trigger4 = var(3) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = ASC, NP, SP, HP
trigger5 = var(3) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = ASC, NP, SP, HP
trigger6 = var(3) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = ASC, NP, SP, HP
trigger7 = var(3) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = ASC, NP, SP, HP
trigger8 = var(3) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = ASC, NP, SP, HP
trigger9 = var(3) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = ASC, NP, SP, HP
trigger10 = var(3) := (var(0)-10)
ignorehitpause = 1
 
[State 33333333, BindToRoot]
type = BindToRoot
trigger1 = PlayerIdExist(Root,ID)
time = 1
facing = 1
pos =0,-2
ignorehitpause = 1 